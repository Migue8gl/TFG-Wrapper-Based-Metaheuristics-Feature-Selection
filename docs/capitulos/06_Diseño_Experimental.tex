\chapter{Diseño experimental}
En este capítulo se describirá el proceso de experimentación llevado a cabo, los conjuntos de datos usados para los distintos experimentos y los parámetros usados en cada uno de los algoritmos.\\[6pt]
Los conjuntos de datos usados son lo siguientes:
\begin{table}[htp]
    \centering
    \label{tab:datasets}
    \begin{tabular}{ l c c c c }
        \hline
        \textbf{Dataset} & \textbf{Instancias} & \textbf{Características} & \textbf{Clases} & \textbf{Área} \\ \hline
        breast-cancer    & 286                 & 9                        & 2               & Medicina      \\
        ecoli            & 336                 & 7                        & 8               & Biología      \\
        parkinsons       & 200                 & 22                       & 2               & Medicina      \\
        spectf-heart     & 348                 & 44                       & 2               & Medicina      \\
        wine             & 182                 & 13                       & 3               & Alimentación  \\
        dermatology      & 366                 & 34                       & 6               & Medicina      \\
        ionosphere       & 350                 & 34                       & 2               & Meteorología  \\
        sonar            & 207                 & 60                       & 2               & Biología      \\
        waveform5000     & 5000                & 40                       & 3               & Física        \\
        yeast            & 1483                & 8                        & 10              & Biología      \\
        diabetes         & 768                 & 8                        & 2               & Medicina      \\
        iris             & 149                 & 4                        & 3               & Biología      \\
        spambase-460     & 459                 & 54                       & 2               & Informática   \\
        wdbc             & 568                 & 29                       & 2               & Medicina      \\
        zoo              & 101                 & 18                       & 7               & Biología      \\ \hline
    \end{tabular}
    \caption{Información de los conjuntos de datos}
    \label{tab:datasets_info}
\end{table}
Se han seleccionado los conjuntos de datos descritos en la tabla \ref{tab:datasets_info} por los siguientes motivos:
\begin{itemize}
    \item \textbf{Variedad de áreas:} Se ha buscado representar una amplia gama de áreas, como Medicina, Biología, Alimentación, Meteorología, Física e Informática. Esto asegura que los problemas abordados sean variados y abarquen diferentes dominios de aplicación.
    \item \textbf{Diversidad de problemas:} Los conjuntos de datos elegidos cubren una variedad de problemas, desde diagnósticos médicos y clasificación de especies hasta predicciones en meteorología y detección de spam. Esta diversidad permite evaluar el rendimiento de los algoritmos en múltiples contextos.
    \item \textbf{Número de características:} Algunos conjuntos de datos, como \textit{spectf-heart} y \textit{spambase-460}, tienen un gran número de características, lo que es particularmente útil para evaluar la eficacia de las técnicas de selección de características. Esta variedad en el número de características permite probar la robustez de los algoritmos en situaciones de alta dimensionalidad. La inclusión de otros como \textit{iris} con tan pocas características hacen de conjunto de datos de referencia, todos los algoritmos deberían optimizar este \textit{dataset}.
    \item \textbf{Popularidad y uso en investigaciones:} Los conjuntos de datos seleccionados son populares y ampliamente utilizados en estudios y artículos de referencia~\cite{zhang_return-cost-based_2017, mafarja_binary_2019, emary_binary_2016, mafarja_whale_2018}. Esto facilita la comparación de resultados con otros trabajos y asegura que los datos son reconocidos y aceptados en la comunidad científica.
    \item \textbf{Variedad en el número de instancias y clases:} La selección incluye conjuntos de datos con diferentes números de instancias y clases. Esta variedad es crucial para probar la escalabilidad y versatilidad de los algoritmos.
    \item \textbf{Relevancia práctica:} Muchos de estos conjuntos de datos, como \textit{diabetes} y \textit{breast-cancer}, tienen una alta relevancia práctica en sus respectivas áreas, lo que subraya la importancia de encontrar soluciones eficientes y precisas para problemas del mundo real.
\end{itemize}
Los datos han sido normalizados entres $0$ y $1$ siguiendo la función de normalización \textit{MinMaxScaler} de \textit{scikit-learn}~\cite{scikit-learn}. Los conjuntos de datos se han dividido en $20\%$ test, $20\%$ validación y $60\%$ entrenamiento.
Se han llevado a cabo $10$ ejecuciones sobre cada algoritmo en cada conjunto de datos, tanto en su versión original como en su versión binaria. Estas ejecuciones se han procesado de forma paralela en el servidor de \textit{Hércules}~\cite{citicugr}.\\[6pt]
Se han recabado datos de todas las ejecuciones para poder comparar los resultados. En forma de gráficos se ha representado la curva de convergencia de cada algoritmo además de una curva de decremento de las características de cada conjunto de datos. Ambos gráficos son muy interesantes a la hora de comparar algoritmos para un mismo conjunto de datos.\\[6pt]
Además se han recabado los siguientes datos en ficheros de texto para su posterior análisis:
\begin{itemize}
    \item \textbf{classifier}: Clasificador usado (kNN o SVC).
    \item \textbf{dataset}: El conjunto de datos utilizado para el proceso de selección de características.
    \item \textbf{optimizer}: Algoritmo metaheurístico usado como optimizador.
    \item \textbf{all\_fitness}: Lista que contiene los valores \textit{fitness} de todas las soluciones generadas durante la optimización.
    \item \textbf{best}: Mejor valor encontrado durante la optimización.
    \item \textbf{avg}: Promedio de los valores de \textit{fitness} de todas las soluciones generadas durante la optimización.
    \item \textbf{std\_dev}: Desviación estándar de los valores de \textit{fitness} de todas las soluciones generadas durante la optimización. Indica qué tan dispersos están los valores alrededor del promedio.
    \item \textbf{acc}: Precisión (accuracy) del modelo de clasificación, es decir, la proporción de instancias correctamente clasificadas sobre el total de instancias.
    \item \textbf{n\_features}: Número de características seleccionadas.
    \item \textbf{selected\_rate}: Tasa de selección de características, que representa la proporción de características seleccionadas respecto al total de características disponibles.
    \item \textbf{execution\_time}: Tiempo de ejecución del algoritmo optimizatorio.
\end{itemize}
Para la función de \textit{fitness} se ha usado:
\begin{equation}
    fitness = acc\cdot\alpha + red\cdot(1-\alpha)
    \label{eq:fitness}
\end{equation}
Donde \textit{acc} quiere decir precisión y \textit{red} el porcentaje de características reducidas. La variable $\alpha$ actúa como medio de ponderación y ha sido fijado en $\alpha=0.9$, dando un $90\%$ de prioridad a la precisión.
Se procede a mostrar los parámetros fijados para cada algoritmo (como referencia se han seguido los parámetros de los artículos originales y binarios ya citados para cada algoritmo).\\[6pt]
Los parámetros fijados en cada uno de los algoritmos de optimización metaheurísticos han sido elegidos por las recomendaciones dadas en los artículos de referencia de los que se sacan, más concretamente los artículos que presentan la versión binaria. Estos son citados en la descripción de cada tabla.

\begin{table}[htp]
    \centering
    \begin{tabular}{ c c }
        \hline
        \textbf{Parámetro} & \textbf{Valor} \\
        \hline
        $c_{min}$          & 0.00001        \\
        $c_{max}$          & 1              \\
        F                  & 0.5            \\
        L                  & 1.5            \\
        \hline
    \end{tabular}
    \caption{Parámetros de GOA~\cite{mafarja_binary_2019}}
\end{table}

\begin{table}[htp]
    \centering
    \begin{tabular}{ c c }
        \hline
        \textbf{Parámetro} & \textbf{Valor} \\
        \hline
        Parámetro espiral  & 1              \\
        \hline
    \end{tabular}
    \caption{Parámetros de WOA. En el paper original~\cite{mirjalili_whale_2016} y en el de la versión binaria~\cite{mafarja_whale_2018} no se da un valor. El valor por defecto ha sido sacado de la implementación de~\cite{Li2019AnAW}}
\end{table}

\begin{table}[htp]
    \centering
    \begin{tabular}{ c c }
        \hline
        \textbf{Parámetro} & \textbf{Valor} \\
        \hline
        Abeja empleada     & 3              \\
        Abeja vigilante    & 3              \\
        Límite             & 3              \\
        \hline
    \end{tabular}
    \caption{Parámetros de ABCO~\cite{karaboga_idea_nodate}}
\end{table}

\begin{table}[htp]
    \centering
    \begin{tabular}{ c c }
        \hline
        \textbf{Parámetro} & \textbf{Valor} \\
        \hline
        $\alpha$           & 0.9            \\
        $\gamma $          & 0.9            \\
        $f_{min}$          & 0              \\
        $f_{max}$          & 2             \\
        \hline
    \end{tabular}
    \caption{Parámetros de BA~\cite{mirjalili_binary_2014}}
\end{table}

\begin{table}[htp]
    \centering
    \begin{tabular}{ c c }
        \hline
        \textbf{Parámetro} & \textbf{Valor} \\
        \hline
        w                  & 0.9            \\
        $c_1$              & 2              \\
        $c_2$              & 2              \\
        \hline
    \end{tabular}
    \caption{Parámetros de PSO~\cite{mirjalili_s-shaped_2013}}
\end{table}

\begin{table}[htp]
    \centering
    \begin{tabular}{ c c }
        \hline
        \textbf{Parámetro} & \textbf{Valor} \\
        \hline
        $\alpha_0$         & 0.5           \\
        $\beta_0$          & 0.2            \\
        $\gamma_0$         & 1              \\
        \hline
    \end{tabular}
    \caption{Parámetros de FA~\cite{zhang2016optimal}}
\end{table}

\begin{table}[htp]
    \centering
    \begin{tabular}{ c c }
        \hline
        \textbf{Parámetro} & \textbf{Valor} \\
        \hline
        Ratio de cruce     & 1              \\
        Ratio de mutación  & 0.05           \\
        Elite              & 2              \\
        $\eta$             & 1              \\
        $\alpha$           & $\sqrt{0.3}$   \\
        \hline
    \end{tabular}
    \caption{Parámetros de GA. Dada la cantidad de variantes y cantidad de valores de parámetros propuestos, estos han sido escogidos de manera empírica y basándose en recomendaciones del tutor del proyecto.}
\end{table}

\begin{table}[htp]
    \centering
    \begin{tabular}{ c c }
        \hline
        \textbf{Parámetro}   & \textbf{Valor} \\
        \hline
        $\alpha$             & 1              \\
        Q                    & 1              \\
        Feromona inicial     & 0.1            \\
        Ratio de evaporación & 0.049          \\
        \hline
    \end{tabular}
    \caption{Parámetros de ACO~\cite{kashef_advanced_2015}}
\end{table}

\begin{table}[htp]
    \centering
    \begin{tabular}{ c c }
        \hline
        \textbf{Parámetro}      & \textbf{Valor} \\
        \hline
        Ratio de descubrimiento & 0.25           \\
        $\alpha$                & 1              \\
        $\lambda$               & 1.5            \\
        \hline
    \end{tabular}
    \caption{Parámetros de CS~\cite{rodrigues_bcs_2013}}
\end{table}

\begin{table}[htp]
    \centering
    \begin{tabular}{ c c }
        \hline
        \textbf{Parámetro} & \textbf{Valor} \\
        \hline
        F                  & 0.5            \\
        Cr                 & 0.1            \\
        \hline
    \end{tabular}
    \caption{Parámetros de DE~\cite{storn_differential_1997}}
\end{table}

Los algoritmos de \textbf{DA} y \textbf{GWO} no tienen parámetros configurables.\\[6pt]
Cada destacar que el algoritmo \textbf{ACO} no se ha añadido al grupo de experimentación de los algoritmos continuos, debido a la naturaleza de su diseño, pues se considera que las versiones existentes en codificación real perturban demasiado el diseño de este, además de que por su propia inspiración no tendría sentido su modificación.\\[6pt]
Por último, cabe mencionar que se ha introducido un límite de corte en la selección de características. De este método se benefician sobre todo los algoritmos continuos, debido a que estos ajustan los pesos en el rango de valores de $[0,1]$, pero no reducen completamente como los binarios. De esta forma, toda característica que tenga un peso asociado menor a $0.05$ se considera suficientemente irrelevante como para descartarla.